from .. import loader, utils

text = """
–ü—Ä–∏–≤–µ—Ç. –¢–µ–±—è –∑–∞–±–∞–Ω–∏–ª–∏ –∑–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞—Ä–Ω–æ–≤. –ï—Å—Ç—å  3 –≤—ã—Ö–æ–¥–∞: 
1. –í @richrait_bot –∫—É–ø–∏—Ç—å —Ä–∞–∑–±–∞–Ω –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –∞–¥–º–∏–Ω–∞–º –∑–∞ —Å—Å—ã–ª–∫–æ–π –æ–±—Ä–∞—Ç–Ω–æ
2. –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ 5 —á–µ–ª–æ–≤–µ–∫ –≤ —á–∞—Ç –∑–∞ —Å—Å—ã–ª–∫–æ–π –Ω–∞–ø–∏—à–∏—Ç–µ @L4rrka –∏–ª–∏ @nikita_permafia
3. –í—ã –º–æ–∂–µ—Ç–µ –∏–≥—Ä–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Ç–∞—Ö —Å–µ—Ç–∫–∏, –∑–∞ —Å—Å—ã–ª–∫–æ–π –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ @L4rrka –∏–ª–∏ @nikita_permafia

class AutoMessageMod(loader.Module):
    "–ê–≤—Ç–æ-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –±–∞–Ω–µ"
    strings = {'name':'AutoMessage'}

    async def watcher(self, message):
        "???"
        fromid = message.sender_id
        chatid = message.chat_id
        if chatid == -1001558330769 and fromid == 1939036535:
            if "(6 –∏–∑ 6)" and "–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω" in message.raw_text:
                userid = message.entities[0].user_id
                await message.client.send_message(userid, text)
                userent = await message.client.get_entity(userid)
                if userent.last_name is None:
                    username = str(userent.first_name)
                elif userent.last_name and userent.first_name:
                    username = str(userent.first_name) + " " + str(userent.last_name)
                else:
                    username = str(userent.last_name)
                await message.client.send_message(1939036535, f'–î–µ–π—Å—Ç–≤–∏–µ: –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω üö∑ <a href="tg://user?id={userid}">{username}</a> –∑–∞ 6 –≤–∞—Ä–Ω–æ–≤')
